这篇文章主要用于学习分布式系统，所以内容都是源自网络或书籍当中，具体参见后面的参考文档。

### 副本更新策略

一份数据在系统内存在多份，并存储与不同的机器中，

优势：

一方面通过冗余数据增加系统的可用性，另一方面可以增加等操作的并发程度。

劣势：

带来数据的一致性问题。

#### 副本更新策略
##### 同时更新策略
  * 直接更新策略，即不采用任何一致性更新协议，对存在的多个数据副本，直接进行同时更新。
> 存在的问题：副本对更新指令的顺序问题。如果不同客户端，同一时刻发出了对一份数据的更新请求，记为Q1和Q2，就会存在有些副本先更新Q1，再是Q2，而有些副本则相反。

  * 采用某种一致性协议预先处理，可以保证不同更新指令的执行顺序，从而保证唯一性。但也同时，带来了请求延时的问题。
  
**思考**：两种不同的更新策略，都是在`低请求延时`及`副本数据的一致性`之间作出权衡。那么是否存在某种两全其美的更新策略呢？我们继续往后看

##### 主从式更新策略
`主从`指的是，将某数据的多个副本，分成主从两类。一般而言，一个主副本(Master Replica)，对应多个从副本。对这种主从副本的更新，成为主从式更新策略。所有对这个数据的更新，都先交给主副本，再由主副本通知从副本进行数据更新。如果同时产生多个数据更新操作，则由主副本决定不同的更新顺序，从副本则遵循主副本的更新顺序。以下是两种不同的主从更新策略。
  * 同步方式。主副本等待所有从副本更新完成之后，才确认更关心操作完成。确保了数据的**强**一致性。但这同时带来了较大的请求延时，尤其在多副本跨数据中心的情形下。问题就在于请求延时是由更新最慢的那个副本所决定的。
  * 异步方式。主副本在通知从副本更新之前，即可确认更新操作。存在的问题，就是这种场景下，假设副本还没有通知任何其它从副本就发生崩溃，就会带来数据一致性的问题。所以会首先在另外的可靠位置将这次更新操作记录下来。

**总结**，可见，主从式副本更新策略，在进行副本更新操作的时候，主副本作为更新的发起点。

##### 任意节点更新策略

### 参考文档
